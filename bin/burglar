#!/usr/bin/env ruby

require 'burglar'
require 'mercenary'
require 'cymbal'

def add_common_opts(c)
  c.option :config, '-c FILE', '--config FILE', 'Config file to load'
end

Mercenary.program(:burglar) do |p|
  p.version Burglar::VERSION
  p.description 'Load data from banks'
  p.syntax 'burglar [options]'

  add_common_opts(p)

  p.action do |opts, _|
    p Burglar.new(opts).transactions
  end
end
